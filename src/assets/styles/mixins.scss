@use './variables.scss' as *;

// ============================================
// 玻璃拟态 Mixins
// ============================================

@mixin glass-effect($opacity: 0.7, $blur: 12px) {
    background: rgba(255, 255, 255, $opacity);
    backdrop-filter: blur($blur);
    -webkit-backdrop-filter: blur($blur);
    border: 1px solid var(--glass-border);
    box-shadow: var(--glass-shadow);

    [data-theme='dark'] & {
        background: rgba(30, 41, 59, $opacity);
        border-color: rgba(255, 255, 255, 0.05);
    }
}

@mixin glass-card {
    @include glass-effect;
    border-radius: var(--radius-lg);
    transition: transform var(--transition-normal), box-shadow var(--transition-normal);

    &:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
    }
}

// ============================================
// 布局 Mixins
// ============================================

@mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

@mixin flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

@mixin flex-column {
    display: flex;
    flex-direction: column;
}

@mixin absolute-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

// ============================================
// 文本 Mixins
// ============================================

@mixin text-gradient($gradient: linear-gradient(135deg, var(--color-primary), var(--color-accent))) {
    background: $gradient;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

@mixin text-truncate($lines: 1) {
    @if $lines ==1 {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    @else {
        display: -webkit-box;
        -webkit-line-clamp: $lines;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
}

// ============================================
// 交互 Mixins
// ============================================

@mixin focus-ring($color: var(--color-primary), $opacity: 0.4) {
    outline: none;
    box-shadow: 0 0 0 3px rgba($color, $opacity);
}

@mixin clickable {
    cursor: pointer;
    user-select: none;
    transition: opacity var(--transition-fast);

    &:active {
        opacity: 0.8;
    }
}
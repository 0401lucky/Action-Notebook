// ============================================
// 响应式断点
// ============================================

// 断点变量
$breakpoint-xs: 480px;   // 小手机
$breakpoint-sm: 640px;   // 大手机
$breakpoint-md: 768px;   // 平板
$breakpoint-lg: 1024px;  // 小桌面
$breakpoint-xl: 1280px;  // 大桌面
$breakpoint-2xl: 1536px; // 超大屏

// ============================================
// 响应式 Mixins
// ============================================

// 移动端优先 (min-width)
@mixin xs {
  @media (min-width: $breakpoint-xs) {
    @content;
  }
}

@mixin sm {
  @media (min-width: $breakpoint-sm) {
    @content;
  }
}

@mixin md {
  @media (min-width: $breakpoint-md) {
    @content;
  }
}

@mixin lg {
  @media (min-width: $breakpoint-lg) {
    @content;
  }
}

@mixin xl {
  @media (min-width: $breakpoint-xl) {
    @content;
  }
}

@mixin xxl {
  @media (min-width: $breakpoint-2xl) {
    @content;
  }
}

// 桌面端优先 (max-width)
@mixin until-xs {
  @media (max-width: #{$breakpoint-xs - 1px}) {
    @content;
  }
}

@mixin until-sm {
  @media (max-width: #{$breakpoint-sm - 1px}) {
    @content;
  }
}

@mixin until-md {
  @media (max-width: #{$breakpoint-md - 1px}) {
    @content;
  }
}

@mixin until-lg {
  @media (max-width: #{$breakpoint-lg - 1px}) {
    @content;
  }
}

@mixin until-xl {
  @media (max-width: #{$breakpoint-xl - 1px}) {
    @content;
  }
}

// 范围查询
@mixin between($min, $max) {
  @media (min-width: $min) and (max-width: #{$max - 1px}) {
    @content;
  }
}

// 平板端专用 (768px - 1023px)
@mixin tablet-only {
  @media (min-width: $breakpoint-md) and (max-width: #{$breakpoint-lg - 1px}) {
    @content;
  }
}

// 平板及以上
@mixin tablet-up {
  @media (min-width: $breakpoint-md) {
    @content;
  }
}

// 平板及以下
@mixin tablet-down {
  @media (max-width: #{$breakpoint-lg - 1px}) {
    @content;
  }
}

// ============================================
// 容器宽度
// ============================================
:root {
  --container-xs: 100%;
  --container-sm: 640px;
  --container-md: 768px;
  --container-lg: 1024px;
  --container-xl: 1280px;
}

// ============================================
// 响应式工具类
// ============================================

// 隐藏类
.hidden-xs {
  @include until-xs {
    display: none !important;
  }
}

.hidden-sm {
  @include until-sm {
    display: none !important;
  }
}

.hidden-md {
  @include until-md {
    display: none !important;
  }
}

.visible-xs {
  display: none !important;
  
  @include until-xs {
    display: block !important;
  }
}

.visible-sm {
  display: none !important;
  
  @include until-sm {
    display: block !important;
  }
}

.visible-md {
  display: none !important;
  
  @include until-md {
    display: block !important;
  }
}

// ============================================
// 移动端触摸优化
// ============================================

// 触摸目标最小尺寸 (44px for accessibility)
@mixin touch-target {
  min-height: 44px;
  min-width: 44px;
}

// 移动端安全区域
@mixin safe-area-inset {
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
}

// 移动端滚动优化
@mixin mobile-scroll {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

// 禁用移动端文本选择（用于按钮等）
@mixin no-select {
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

// ============================================
// 响应式间距
// ============================================
:root {
  // 移动端默认间距
  --spacing-page: var(--spacing-sm);
  --spacing-section: var(--spacing-md);
  
  @media (min-width: 640px) {
    --spacing-page: var(--spacing-md);
    --spacing-section: var(--spacing-lg);
  }
  
  @media (min-width: 768px) {
    --spacing-page: var(--spacing-lg);
    --spacing-section: var(--spacing-xl);
  }
}

// ============================================
// 响应式字体
// ============================================
:root {
  // 移动端字体缩放
  --font-size-title: var(--font-size-xl);
  --font-size-subtitle: var(--font-size-md);
  
  @media (min-width: 640px) {
    --font-size-title: var(--font-size-2xl);
    --font-size-subtitle: var(--font-size-lg);
  }
}
